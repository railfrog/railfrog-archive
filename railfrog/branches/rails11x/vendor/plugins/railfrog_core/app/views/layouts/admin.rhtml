<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <title>Railfrog :: <%= params[:controller] %> > <%= params[:action] %></title>
    <%= engine_stylesheet 'railfrog_core' %>
    <script type="text/javascript">
      _editor_url  = "/engine_files/railfrog_core/xinha";
      _editor_lang = "en";
    </script>
    <script src="/engine_files/railfrog_core/xinha/htmlarea.js" type="text/javascript"></script>
    <script src="/engine_files/railfrog_core/javascripts/xinha_config.js" type="text/javascript"></script>
    <%= javascript_include_tag :defaults %>
  </head>

  <body>
    <div id="container">
      <div id="branding">
        <%= image_tag '/images/railfrog_logo.png', :alt => 'Site Logo', :size => '120x130', :id => 'branding-logo' %>
        <h1 id="branding-name"><%# TODO: rf_labels['branding-name'] %>RailFrog</h1>
        <div id="branding-tagline"><%# TODO: rf_labels['branding-tagline'] %>Design, Deploy and Maintain Websites with Joy</div>
      </div>

      <div id="page-heading">Railfrog Control Panel</div>

      <div id="navigation">
        <ul id="nav-main" class="horizontal-list">
          <%# FIXME: highlight navigation items in a better way than this %>
          <li<%= ' class="active"' if params[:controller] == 'railfrog_admin' && params[:action] == 'dashboard' %>>
            <%= link_to 'Dashboard', :controller => 'railfrog_admin', :action => 'dashboard' %>
          </li>
          <li<%= ' class="active"' if params[:controller] == 'railfrog_admin' && params[:action] == 'explore' %>>
            <%= link_to 'Site Explorer', :controller => 'railfrog_admin', :action => 'explore' %>
          </li>
          <li<%= ' class="active"' if params[:controller] == 'railfrog_admin' && params[:action] == 'settings' %>>
            <%= link_to 'Settings', :controller => 'railfrog_admin', :action => 'settings' %>
          </li>
          <li<%= ' class="active"' if params[:controller] == 'user' %>>
            <%= link_to 'User Administration', :controller => 'user', :action => 'index' %>
          </li>
          <li>
            <%= link_to 'Logout', :controller => 'user', :action => 'logout' %>
          </li>
        </ul>
        <% if @site_mapping %>
        <span id="nav-section-title">Location:</span>
        <ul id="nav-section" class="horizontal-list">
          <%= print_site_mappings @site_mapping %>
        </ul>
        <% end %>
      </div>

      <div id="search">
        <form id="search-input">
        </form>
        <dl id="search-output">
        </dl>
      </div>

      <div id="msg-area-flash">
        <span id="msg-warning"><%= flash[:warning] %></span>
        <span id="msg-error"><%= flash[:error] %></span>
        <span id="msg-message"><%= flash[:message] %></span>
        <span id="msg-notice"><%= flash[:notice] %></span>
      </div>

      <%= @content_for_layout %>

      <div id="siteinfo">
        <ul id="nav-siteinfo" class="horizontal-list">
          <li>Help</li>
          <li>About Your Website</li>
          <li>About Railfrog</li>
        </ul>
        <div id="siteinfo-legal">&copy; 2006 Railfrog</div>
        <div id="siteinfo-credits"><%= link_to 'Ribbeted in teh Railfrog pond.', 'http://railfrog.com' %></div>
      </div>
    </div>
    <%= javascript_selective_enabler %>
  </body>
</html>
