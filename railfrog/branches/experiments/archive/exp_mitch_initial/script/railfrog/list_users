#!/usr/bin/env ruby

print 'Loading railfrog system...'
require 'config/environment'
puts 'Done'

print "\n"
puts '=== Listing All Users ==='
puts 'ID'.ljust(10) + 'Login'.ljust(20) + 'Roles'

users = User.find(:all)
if users.empty?
  print "\n"
  puts 'No users.'
  exit
end

users.each do |user|
  roles = user.roles.collect { |role| role.translate }.join(',')
  puts user.id.to_s.ljust(10) + user.login.ljust(20) + roles
end